(()=>{var e={};e.id=382,e.ids=[382],e.modules={2507:(e,r,t)=>{"use strict";t.d(r,{U:()=>n});var s=t(34386),i=t(44999);let n=async()=>{let e=await (0,i.UL)();return(0,s.createServerClient)("https://jtqlamkrhdfwtmaubfrc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp0cWxhbWtyaGRmd3RtYXViZnJjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEzNDE2NDgsImV4cCI6MjA3NjkxNzY0OH0.9WVHKObSp6K--mh80UlvBMmSPkjREUGkrtbf9n450qc",{cookies:{get:r=>e.get(r)?.value,set(r,t,s){try{e.set({name:r,value:t,...s})}catch{}},remove(r,t){try{e.set({name:r,value:"",...t})}catch{}}}})}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},34631:e=>{"use strict";e.exports=require("tls")},39727:()=>{},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},47990:()=>{},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},76926:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return a}});let s=function(e,r){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i(r);if(t&&t.has(e))return t.get(e);var s={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=n?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(s,u,o):s[u]=e[u]}return s.default=e,t&&t.set(e,s),s}(t(61120));function i(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(i=function(e){return e?t:r})(e)}let n={current:null},u="function"==typeof s.cache?s.cache:e=>e,o=console.warn;function a(e){return function(...r){o(e(...r))}}u(e=>{try{o(n.current)}finally{n.current=null}})},78335:()=>{},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},92503:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>y,routeModule:()=>p,serverHooks:()=>f,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>d});var s={};t.r(s),t.d(s,{GET:()=>c});var i=t(96559),n=t(48088),u=t(37719),o=t(32190),a=t(2507);async function c(){try{let e=await (0,a.U)(),{data:r,error:t}=await e.from("products").select(`
        id,
        name,
        description,
        stripe_product_id,
        sort_order,
        prices (
          id,
          amount,
          currency,
          interval_type,
          stripe_price_id
        ),
        features (
          feature_key,
          feature_value
        )
      `).eq("active",!0).order("sort_order");if(t)return console.error("Error fetching products:",t),o.NextResponse.json({error:"Failed to fetch plans"},{status:500});let s=r?.map(e=>{let r=e.features.reduce((e,r)=>(e[r.feature_key]=r.feature_value,e),{}),t=e.prices[0];return{id:e.id,name:e.name,description:e.description,price:{amount:t?.amount||0,currency:t?.currency||"usd",interval:t?.interval_type||"month",stripe_price_id:t?.stripe_price_id},features:r,stripe_product_id:e.stripe_product_id}})||[];return o.NextResponse.json({plans:s})}catch(e){return console.error("Error in /api/plans:",e),o.NextResponse.json({error:"Internal server error"},{status:500})}}let p=new i.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/plans/route",pathname:"/api/plans",filename:"route",bundlePath:"app/api/plans/route"},resolvedPagePath:"/Users/sydnee/icanswimbeta/src/app/api/plans/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:l,workUnitAsyncStorage:d,serverHooks:f}=p;function y(){return(0,u.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:d})}},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[447,437,410,580],()=>t(92503));module.exports=s})();